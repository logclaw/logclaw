# CI test values for logclaw-opensearch chart
# Provides all required global.* values that would normally come from the umbrella chart.
# Suitable for `helm lint`, `helm template`, and local `kind` development.

# ── Global values (normally injected by umbrella chart) ────────────────────────
global:
  tenantId: "dev-local"
  tier: "standard"
  storageClass: "standard"
  clusterDomain: "cluster.local"
  topologyKey: "topology.kubernetes.io/zone"
  secretStore:
    name: "logclaw-secret-store"
  monitoring:
    enabled: false

# ── Chart-specific overrides for minimal local footprint ───────────────────────
opensearch:
  masters:
    replicas: 1
    diskSize: "5Gi"
    resources:
      requests:
        cpu: "500m"
        memory: "1Gi"
      limits:
        cpu: "1"
        memory: "2Gi"
    jvm:
      xms: "512m"
      xmx: "512m"

  data:
    replicas: 1
    diskSize: "10Gi"
    resources:
      requests:
        cpu: "500m"
        memory: "1Gi"
      limits:
        cpu: "1"
        memory: "2Gi"
    jvm:
      xms: "512m"
      xmx: "512m"

  coordinators:
    replicas: 1
    resources:
      requests:
        cpu: "250m"
        memory: "512Mi"
      limits:
        cpu: "500m"
        memory: "1Gi"

podDisruptionBudget:
  dataNodes:
    minAvailable: 1
  masterNodes:
    minAvailable: 1

adminCredentialsSecret:
  createExternalSecret: false
  name: "opensearch-admin-credentials"
