# CI test values for logclaw-flink chart
# Provides all required global.* values that would normally come from the umbrella chart.
# Suitable for `helm lint`, `helm template`, and local `kind` development.

# ── Global values (normally injected by umbrella chart) ────────────────────────
global:
  tenantId: "dev-local"
  tier: "standard"
  storageClass: "standard"
  clusterDomain: "cluster.local"
  topologyKey: "topology.kubernetes.io/zone"
  imageRegistry: "docker.io"
  kafkaBrokers: "kafka.default.svc.cluster.local:9092"
  kafkaTopics:
    rawLogs: "raw-logs"
    enriched: "enriched-logs"
    anomalies: "anomalies"
    dlq: "dlq"
  opensearchEndpoint: "https://opensearch.default.svc.cluster.local:9200"
  objectStorage:
    provider: "s3"
    bucket: "logclaw-dev-local"
    region: "us-east-1"
    # irsaRoleArn: ""            # AWS IRSA — set if running on EKS
    # workloadIdentityGSA: ""    # GCP Workload Identity — set if running on GKE
    # azureClientId: ""          # Azure Workload Identity — set if running on AKS
  monitoringNamespace: "monitoring"
  monitoring:
    enabled: false
    ruleLabels: {}
  # highPriorityClassName: ""    # Optional: PriorityClass for anomaly job

# ── Chart-specific overrides for minimal local footprint ───────────────────────
flink:
  jobManager:
    cpu: 0.5
    memory: "512m"
    replicas: 1
  taskManager:
    cpu: 1
    memory: "1024m"
    replicas: 1
    resources:
      requests:
        cpu: "1"
        memory: "1Gi"
      limits:
        cpu: "2"
        memory: "2Gi"
  etlJob:
    enabled: false
    parallelism: 1
  enrichmentJob:
    enabled: false
    parallelism: 1
  anomalyJob:
    enabled: false
    parallelism: 2
  sessionCluster:
    enabled: false
