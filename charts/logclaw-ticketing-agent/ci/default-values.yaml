# CI test values for logclaw-ticketing-agent chart
# Provides all required global.* values that would normally come from the umbrella chart.
# Suitable for `helm lint`, `helm template`, and local `kind` development.

replicaCount: 1

image:
  repository: "python"
  tag: "3.12-alpine"

command:
  - python
  - -c
  - |
    from http.server import HTTPServer, BaseHTTPRequestHandler
    class H(BaseHTTPRequestHandler):
        def do_GET(self):
            self.send_response(200)
            self.end_headers()
            self.wfile.write(b'ok')
        def log_message(self, *a): pass
    HTTPServer(('0.0.0.0', 8080), H).serve_forever()

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 2

config:
  pagerduty:
    enabled: false
  jira:
    enabled: false
  servicenow:
    enabled: false
  anomaly:
    minimumScore: 0.5

resources:
  requests:
    cpu: "100m"
    memory: "128Mi"
  limits:
    cpu: "500m"
    memory: "256Mi"

# ── Global values (normally injected by umbrella chart) ────────────────────────
global:
  tenantId: "dev-local"
  tier: "standard"
  storageClass: "standard"
  kafkaBrokers: "logclaw-kafka-dev-local-kafka-bootstrap.logclaw-dev-local.svc:9092"
  kafkaTopics:
    anomalies: "anomaly-events"
  opensearchEndpoint: "http://logclaw-opensearch-dev-local.logclaw-dev-local.svc:9200"
  topologyKey: "topology.kubernetes.io/zone"
  imagePullSecrets: []
  secretStore:
    name: "logclaw-secret-store"
    kind: "ClusterSecretStore"
  llm:
    provider: "disabled"
    model: ""
    endpoint: ""
  monitoring:
    enabled: false
    prometheusNamespace: "monitoring"

llm:
  provider: "disabled"

ticketing:
  platform: "pagerduty-jira"

zammad:
  groupName: "SRE Incidents"
