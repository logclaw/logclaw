# CI test values for logclaw-ml-engine chart
# Provides all required global.* values that would normally come from the umbrella chart.
# Suitable for `helm lint`, `helm template`, and local `kind` development.

# ── Global values (normally injected by umbrella chart) ────────────────────────
global:
  tenantId: "dev-local"
  tier: "standard"
  storageClass: "standard"
  clusterDomain: "cluster.local"
  topologyKey: "topology.kubernetes.io/zone"
  objectStorage:
    provider: "s3"
    bucket: "logclaw-dev-local"
    region: "us-east-1"
  externalRedis:
    host: "redis.default.svc.cluster.local"
    port: 6379
  llm:
    provider: "disabled"
    model: ""
    endpoint: ""
  monitoring:
    enabled: false
    prometheusNamespace: "monitoring"

# ── Chart-specific overrides for minimal local footprint ───────────────────────
externalSecret:
  secretStoreName: "logclaw-secret-store"
  secretStoreKind: "ClusterSecretStore"

mlEngine:
  redis:
    bundled: false
  feast:
    image:
      repository: "feastdev/feature-server"
      tag: "0.40.1"
      pullPolicy: IfNotPresent
    replicaCount: 1
    resources:
      requests:
        cpu: "100m"
        memory: "256Mi"
      limits:
        cpu: "500m"
        memory: "512Mi"
  kserve:
    minReplicas: 1
    maxReplicas: 2
  ollama:
    enabled: false
redis:
  master:
    persistence:
      size: "1Gi"
  replica:
    replicaCount: 0
podDisruptionBudget:
  minAvailable: 1
